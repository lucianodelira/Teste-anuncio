<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>Copa 2 – Caça‑Níquel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/6.7.0/css/flag-icon.min.css">
  <style>
    body {
      margin: 0;
      padding: 0;
      background: linear-gradient(#74d300, #179800);
      font-family: sans-serif;
      text-align: center;
    }
    #app {
      max-width: 420px;
      margin: auto;
      background: #000;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 0 20px #000;
    }
    .top-bar {
      display: flex;
      justify-content: space-between;
      background: #222;
      color: #fff;
      font-weight: bold;
      font-size: 14px;
      padding: 8px 12px;
    }
    .top-bar span {
      background: #444;
      padding: 4px 8px;
      border-radius: 6px;
      color: yellow;
    }
    #game {
      padding: 10px;
    }
    #board {
      display: grid;
      grid-template-areas:
  "tl t1 t2 t3 t4 tr"
  "l1 btn btn btn btn r1"
  "l2 btn btn btn btn r2"
  "l3 btn btn btn btn r3"
  "bl b4 b3 b2 b1 br";

      gap: 0px;
      margin-top: 10px;
    }
    .slot {
      background: #111;
      border: 2px solid #333;
      display: flex;
      justify-content: center;
      align-items: center;
      width: 60px;
      height: 60px;
      font-size: 28px;
    }
    .slot.blink {
      animation: brilho 0.3s infinite alternate;
    }
    @keyframes brilho {
      from { border-color: gold; }
      to { border-color: red; }
    }
 .center-image {
  grid-area: btn;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  background: black;
}

.center-image img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}



    #btnPlay {
      margin-top: 12px;
      width: 100%;
      height: 50px;
      background: red;
      border: none;
      color: white;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      border-radius: 10px;
    }
    #menu {
      background: #111;
      color: white;
      padding: 10px;
      border-top: 2px solid #333;
    }
    #menu input, #menu select, #menu button {
      margin: 6px;
      padding: 6px;
      border-radius: 6px;
      border: none;
      font-size: 14px;
    }
    #coinArea {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
    }
    .coin {
      position: absolute;
      width: 20px;
      height: 20px;
      background: gold;
      border-radius: 50%;
      animation: coinJump 1s linear forwards;
    }
    @keyframes coinJump {
      0% { opacity:1; transform: translateY(0); }
      100% { opacity:0; transform: translateY(-200px) scale(0.5); }
    }
    #winnerOverlay {
      position: fixed;
      top:0; left:0; right:0; bottom:0;
      background: rgba(0,0,0,0.8);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    #winBox {
      background: white;
      color: black;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
    }
  </style>
</head>
<body>
<div id="app">
  <div class="top-bar">
    <div>PRÊMIO: <span id="prize">0</span></div>
    <div>CRÉDITOS: <span id="credits">100</span></div>
  </div>
  <div id="game">
    <div id="board">
  <div class="slot" style="grid-area:tl"><img src="imagens/br.png" class="flag-img"></div>
  <div class="slot" style="grid-area:t1"><img src="imagens/de.png" class="flag-img"></div>
  <div class="slot" style="grid-area:t2"><img src="imagens/fr.png" class="flag-img"></div>
  <div class="slot" style="grid-area:t3"><img src="imagens/es.png" class="flag-img"></div>
  <div class="slot" style="grid-area:t4"><img src="imagens/it.png" class="flag-img"></div>
  <div class="slot" style="grid-area:tr"><img src="imagens/pt.png" class="flag-img"></div>
  <div class="slot" style="grid-area:l1"><img src="imagens/nl.png" class="flag-img"></div>
  <div class="slot" style="grid-area:l2"><img src="imagens/gb.png" class="flag-img"></div>
  <div class="slot" style="grid-area:l3"><img src="imagens/ar.png" class="flag-img"></div>
  <div class="slot" style="grid-area:r1"><img src="imagens/mx.png" class="flag-img"></div>
  <div class="slot" style="grid-area:r2"><img src="imagens/us.png" class="flag-img"></div>
  <div class="slot" style="grid-area:r3"><img src="imagens/co.png" class="flag-img"></div>
  <div class="slot" style="grid-area:bl"><img src="imagens/jp.png" class="flag-img"></div>
  <div class="slot" style="grid-area:b4"><img src="imagens/kr.png" class="flag-img"></div>
  <div class="slot" style="grid-area:b3"><img src="imagens/ch.png" class="flag-img"></div>
  <div class="slot" style="grid-area:b2"><img src="imagens/uy.png" class="flag-img"></div>
  <div class="slot" style="grid-area:b1"><img src="imagens/pe.png" class="flag-img"></div>
  <div class="slot" style="grid-area:br"><img src="imagens/ca.png" class="flag-img"></div>

  <div class="center-image">
    <img src="https://blog.bdfutbol.com/wp-content/uploads/2024/04/DALL%C2%B7E-2024-04-02-15.20.22-Imagine-a-vibrant-and-dynamic-scene-capturing-the-essence-of-Belgian-soccer-for-the-introduction-of-the-Belgian-soccer-league-to-BDFutbol.-The-image-f.jpg">
  </div>
</div>
    <button id="btnPlay">JOGAR</button>
    <div id="menu">
      <div>
        <label>Adicionar Créditos:</label>
        <input type="number" id="addCredit" placeholder="Qtd"> <button onclick="addCredits()">Adicionar</button>
      </div>
      <div>
        <label>Escolher Time:</label>
        <select id="betTeam">
          <option value="">Nenhum</option>
          <option value="br">Brasil</option>
          <option value="de">Alemanha</option>
          <option value="fr">França</option>
        </select>
      </div>
    </div>
  </div>
</div>
<div id="winnerOverlay">
  <div id="winBox">
    <h2 id="msgWinner">TIME GANHADOR</h2>
    <button onclick="closeWin()">OK</button>
  </div>
</div>
<audio id="sndStart" src="https://assets.mixkit.co/active_storage/sfx/1062/1062-preview.mp3" preload="auto"></audio>
<audio id="sndWin" src="https://assets.mixkit.co/active_storage/sfx/203/203-preview.mp3" preload="auto"></audio>
<audio id="sndLose" src="https://assets.mixkit.co/active_storage/sfx/245/245-preview.mp3" preload="auto"></audio>
<script>
  let credits = parseInt(localStorage.getItem('credits')) || 100;
  let prize = parseInt(localStorage.getItem('prize')) || 0;
  const creditsEl = document.getElementById('credits');
  const prizeEl = document.getElementById('prize');
  const btn = document.getElementById('btnPlay');
  const slots = Array.from(document.querySelectorAll('.slot'));
  const sndStart = document.getElementById('sndStart');
  const sndWin = document.getElementById('sndWin');
  const sndLose = document.getElementById('sndLose');
  const overlay = document.getElementById('winnerOverlay');
  const msgWinner = document.getElementById('msgWinner');

  function save() {
    localStorage.setItem('credits', credits);
    localStorage.setItem('prize', prize);
  }
  creditsEl.textContent = credits;
  prizeEl.textContent = prize;

  function addCredits() {
    let val = parseInt(document.getElementById('addCredit').value);
    if (!isNaN(val) && val > 0) {
      credits += val;
      save();
      creditsEl.textContent = credits;
    }
  }

  btn.onclick = () => {
    if (credits < 1) return;
    credits--; save(); creditsEl.textContent = credits;
    btn.disabled = true;
    sndStart.play();
    let count = 0, flash = 20 + Math.random() * 20;
    const iv = setInterval(() => {
      slots.forEach(s => s.classList.remove('blink'));
      const idx = Math.floor(Math.random() * slots.length);
      slots[idx].classList.add('blink');
      if (++count >= flash) {
        clearInterval(iv);
        const winner = slots[idx];
        let gain = 10;
        const selected = document.getElementById('betTeam').value;
        if (selected && winner.innerHTML.includes('flag-icon-' + selected)) gain += 20;
        credits += gain; prize += gain; save();
        creditsEl.textContent = credits;
        prizeEl.textContent = prize;
        sndWin.play();
        msgWinner.textContent = `GANHOU ${gain} CRÉDITOS!`;
        overlay.style.display = 'flex';
        btn.disabled = false;
      }
    }, 100);
  }

  function closeWin() {
    overlay.style.display = 'none';
    slots.forEach(s => s.classList.remove('blink'));
  }
</script>
</body>
</html>
